$(function(){$("#contactForm").validator().on("submit",function(b){if(b.isDefaultPrevented()){console.log("invalid form")}else{b.preventDefault();$(".form-group").removeClass("has-error");$(".help-block").remove();$("#loading").show();var a=$("#contactForm");$.ajax({type:"POST",url:"php/contact.php",data:a.serialize(),dataType:"json",encode:true}).done(function(c){$("html,body").animate({scrollTop:0},"slow");if(c.debug){console.log(c.debug)}if(c&&c.errors&&!c.success){if(c.errors.name){$("#name-field").removeClass("has-success").addClass("has-error");$("#name-field").find(".form-control-feedback").removeClass("glyphicon-ok").addClass("glyphicon-remove");$("#name-field").find("div.col-xs-12").append('<span class="help-block">'+c.errors.name+"</span>")}if(c.errors.email){$("#email-field").removeClass("has-success").addClass("has-error");$("#email-field").find(".form-control-feedback").removeClass("glyphicon-ok").addClass("glyphicon-remove");$("#email-field").find("div.col-xs-12").append('<span class="help-block">'+c.errors.email+"</span>")}if(c.errors.phone){$("#phone-field").removeClass("has-success").addClass("has-error");$("#phone-field").find(".form-control-feedback").removeClass("glyphicon-ok").addClass("glyphicon-remove");$("#phone-field").find("div.col-xs-12").append('<span class="help-block">'+c.errors.phone+"</span>")}if(c.errors.exception){$("#error").html('<div class="alert alert-danger">'+c.errors.exception+"</div>")}}else{if(c){$("#successModalContent").html("<span>"+c.message+"</span>");$("#confirmationModal").modal("toggle")}}}).fail(function(c){if(c&&c.errors&&!c.success){if(c.errors.exception){console.log(c.errors.exception);$("html,body").animate({scrollTop:0},"slow");$("#error").html('<div class="alert alert-danger">'+c.errors.exception+"</div>")}}else{$("#errorModalContent").html("<span>Une error est survenue, l'mail ne peut pas être envoyé!<br> Contactez-nous à partir de votre boîte mail personnel ou par téléphone svp</span>");$("#errorModal").modal("toggle")}}).always(function(){$("#loading").hide()})}});$("#confirmationModal").on("hidden.bs.modal",function(a){window.location.href="http://bosdeco.be/remerciement.html"})});